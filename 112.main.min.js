(()=>{"use strict";var e,t,r={112:(e,t,r)=>{var a=r(260);let o=null,s=null,i=null;self.onmessage=async e=>{const{type:t}=e.data;try{if("INIT"===t){const{canvas:t,wasmPath:r,modelPath:n}=e.data;s=t,i=s.getContext("2d"),await async function(e,t){const r=await a.Ps.forVisionTasks(e);o&&o.close(),o=await a.Pi.createFromOptions(r,{baseOptions:{modelAssetPath:t},runningMode:"VIDEO",numPoses:2}),console.log("Worker: PoseLandmarker initialized."),self.postMessage({type:"READY"})}(r,n)}else if("DETECT"===t){if(!o)return console.error("Worker: PoseLandmarker not initialized."),void self.postMessage({type:"RESULT",payload:null});const{frame:t,timestamp:r}=e.data;if(0===t.width||0===t.height)return console.warn("Worker skipped empty frame"),t.close(),void self.postMessage({type:"RESULT",payload:null});i.drawImage(t,0,0,s.width,s.height);const a=await o.detectForVideo(s,r);t.close(),self.postMessage({type:"RESULT",payload:a})}}catch(e){console.error("Worker detection error:",e),self.postMessage({type:"ERROR",payload:{message:e.message,stack:e.stack}})}}}},a={};function o(e){var t=a[e];if(void 0!==t)return t.exports;var s=a[e]={exports:{}};return r[e](s,s.exports,o),s.exports}o.m=r,o.x=()=>{var e=o.O(void 0,[260],()=>o(112));return o.O(e)},e=[],o.O=(t,r,a,s)=>{if(!r){var i=1/0;for(c=0;c<e.length;c++){for(var[r,a,s]=e[c],n=!0,l=0;l<r.length;l++)(!1&s||i>=s)&&Object.keys(o.O).every(e=>o.O[e](r[l]))?r.splice(l--,1):(n=!1,s<i&&(i=s));if(n){e.splice(c--,1);var p=a();void 0!==p&&(t=p)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[r,a,s]},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce((t,r)=>(o.f[r](e,t),t),[])),o.u=e=>e+".main.min.js",o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.p="/Interactive-Stable-Fluid-Web/",(()=>{var e={112:1};o.f.i=(t,r)=>{e[t]||importScripts(o.p+o.u(t))};var t=globalThis.webpackChunkfluid_three=globalThis.webpackChunkfluid_three||[],r=t.push.bind(t);t.push=t=>{var[a,s,i]=t;for(var n in s)o.o(s,n)&&(o.m[n]=s[n]);for(i&&i(o);a.length;)e[a.pop()]=1;r(t)}})(),t=o.x,o.x=()=>o.e(260).then(t),o.x()})();